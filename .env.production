# Production Environment Configuration for Manito
# ================================================

# Server Configuration
NODE_ENV=production
PORT=3000
CLIENT_URL=https://manito.yourdomain.com
HOSTNAME=0.0.0.0

# Database Configuration
DATABASE_URL=postgresql://manito_user:CHANGEME_POSTGRES_PASSWORD@postgres:5432/manito
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_TIMEOUT=30000

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000

# Authentication & Security
JWT_SECRET=CHANGEME_JWT_SECRET_MINIMUM_32_CHARS
SESSION_SECRET=CHANGEME_SESSION_SECRET_MINIMUM_32_CHARS
BCRYPT_ROUNDS=12
TOKEN_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# AI Integration
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
LOCAL_AI_ENDPOINT=
AI_DEFAULT_PROVIDER=local
AI_REQUEST_TIMEOUT=30000
AI_MAX_TOKENS=1000

# Scanning Configuration
MAX_SCAN_SIZE_MB=500
MAX_CONCURRENT_SCANS=3
SCAN_TIMEOUT_MS=600000
WORKER_THREADS_MAX=4
SCAN_FILE_SIZE_LIMIT_MB=50

# Performance & Resource Limits
NODE_OPTIONS="--max-old-space-size=1536 --optimize-for-size"
UV_THREADPOOL_SIZE=8
MAX_FILE_DESCRIPTORS=8192

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
LOG_ROTATE=daily

# Monitoring & Health Checks
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Security Headers
HELMET_CSP_ENABLED=true
HELMET_HSTS_MAX_AGE=31536000
HELMET_FRAME_GUARD=SAMEORIGIN

# File Upload & Processing
UPLOAD_MAX_SIZE_MB=100
UPLOAD_ALLOWED_TYPES=js,ts,jsx,tsx,json,md,txt,yml,yaml,xml
TEMP_DIR=/app/tmp

# External Services
WEBHOOK_URL=
SLACK_WEBHOOK_URL=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_FROM=noreply@yourdomain.com

# Backup & Maintenance
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
MAINTENANCE_MODE=false
FEATURE_FLAGS=streaming_scanner,async_jobs,real_time_updates